
GLOBAL_LIST_INIT(autodrobe_costumes_items, list(
	/obj/item/clothing/under/costume/gladiator = 3,
	/obj/item/clothing/head/helmet/gladiator = 3,
	/obj/item/clothing/suit/toggle/labcoat/mad = 3,
	/obj/item/clothing/suit/bio_suit/plaguedoctorsuit = 3,
	/obj/item/clothing/head/plaguedoctorhat = 3,
	/obj/item/clothing/mask/gas/plaguedoctor = 3,
	/obj/item/clothing/under/rank/medical/doctor/nurse = 3,
	/obj/item/clothing/suit/ran = 2,
	/obj/item/clothing/head/ran = 2,
	/obj/item/clothing/suit/toggle/owlwings = 1,
	/obj/item/clothing/under/costume/owl = 1,
	/obj/item/clothing/mask/gas/owl_mask = 1,
	/obj/item/clothing/suit/toggle/owlwings/griffinwings = 1,
	/obj/item/clothing/head/griffin = 1,
	/obj/item/clothing/under/costume/griffin = 1,
	/obj/item/clothing/shoes/griffin = 1,
	/obj/item/clothing/under/costume/pirate = 1,
	/obj/item/clothing/suit/pirate = 1,
	/obj/item/clothing/head/pirate = 1,
	/obj/item/clothing/under/costume/soviet = 3,
	/obj/item/clothing/head/ushanka/soviet = 5,
	/obj/item/clothing/head/ushanka = 5,
	/obj/item/storage/backpack/henchmen = 5,
	/obj/item/clothing/mask/gas/timidcostume = 3,
	/obj/item/clothing/suit/hooded/wintercoat/timidcostume = 3,
	/obj/item/clothing/shoes/timidcostume = 3,
	/obj/item/clothing/mask/gas/timidcostume/man = 3,
	/obj/item/clothing/suit/hooded/wintercoat/timidcostume/man = 3,
	/obj/item/clothing/shoes/timidcostume/man = 3,
	/obj/item/clothing/under/costume/jackbros = 5,
	/obj/item/clothing/under/costume/deckers = 5,
	/obj/item/clothing/under/costume/sailor = 3,
	/obj/item/clothing/under/costume/draculass = 3,
	/obj/item/clothing/under/costume/lobster = 1,
	/obj/item/clothing/suit/snowman = 1,
	/obj/item/clothing/head/snowman = 1,
	/obj/item/clothing/suit/hooded/corpus = 1,
	/obj/item/clothing/suit/hooded/corpus/c = 1,
	/obj/item/clothing/suit/hooded/pyramidhead = 1,
	/obj/item/clothing/under/dress/wedding = 1,
	/obj/item/clothing/under/suit/error = 1,
))

GLOBAL_LIST_INIT(autodrobe_supernatural_items, list(
	/obj/item/clothing/neck/cloak/ninjascarf = 3,
	/obj/item/clothing/neck/cloak/ninjascarf_new = 3,
	/obj/item/clothing/mask/balaclava/breath/redscarf/greenscarf = 5,
	/obj/item/clothing/neck/mantle = 3,
	/obj/item/clothing/neck/mantle/old = 3,
	/obj/item/clothing/neck/mantle/cowboy = 3,
	/obj/item/clothing/under/bm/blackrevdress = 3,
	/obj/item/clothing/under/bm/whiterevdress = 3,
	/obj/item/clothing/under/bm/angelrevskirt = 3,
	/obj/item/clothing/under/bm/gothrevskirt = 3,
	/obj/item/clothing/under/bm/ryodan = 6,
	/obj/item/clothing/suit/hooded/cloak/zuliecloak = 3,
	/obj/item/clothing/head/witchwig = 1,
	/obj/item/clothing/mask/gas/clown_hat/sexy = 1,
	/obj/item/clothing/head/wizard/marisa/fake = 3,
	/obj/item/clothing/suit/wizrobe/marisa/fake = 3,
	/obj/item/clothing/suit/wizrobe/fake = 3,
	/obj/item/clothing/head/wizard/fake = 3,
	/obj/item/clothing/neck/cloak/chronos = 5,
	/obj/item/clothing/under/bm/chronos = 5,
	/obj/item/clothing/head/beret/chronos = 5,
	/obj/item/clothing/suit/imperium_monk = 1,
	/obj/item/clothing/suit/chaplain/holidaypriest = 1,
	/obj/item/staff = 3,
	/obj/item/staff/broom = 3,
	/obj/item/clothing/neck/cloak/binary = 3,
	/obj/item/clothing/suit/flatwoods = 3,
))

GLOBAL_LIST_INIT(autodrobe_entretainers_items, list(
	/obj/item/clothing/under/rank/civilian/clown/blue = 3,
	/obj/item/clothing/under/rank/civilian/clown/green = 3,
	/obj/item/clothing/under/rank/civilian/clown/yellow = 3,
	/obj/item/clothing/under/rank/civilian/clown/orange = 3,
	/obj/item/clothing/under/rank/civilian/clown/purple = 3,
	/obj/item/clothing/under/rank/civilian/clown/sexy = 3,
	/obj/item/clothing/under/rank/civilian/clown/clussy_outfit = 3,
	/obj/item/clothing/gloves/clussy_gloves = 3,
	/obj/item/clothing/head/clussy_wig = 3,
	/obj/item/clothing/shoes/clown_shoes/clussy_heels = 3,
	/obj/item/clothing/under/rank/civilian/clown/jester = 1,
	/obj/item/clothing/head/jester = 1,
	/obj/item/clothing/under/rank/civilian/clown/jester/harley = 3,
	/obj/item/clothing/underwear/briefs/harley = 3,
	/obj/item/clothing/suit/jacket/harley = 3,
	/obj/item/clothing/underwear/shirt/harley = 3,
	/obj/item/clothing/mask/gas/mime/sexy = 1,
	/obj/item/clothing/under/rank/civilian/mime/sexy = 3,
	/obj/item/clothing/under/rank/civilian/mime/skirt = 3,
	/obj/item/clothing/mask/durak = 2,
	/obj/item/clothing/under/costume/villain = 3,
	/obj/item/clothing/shoes/singery = 1,
	/obj/item/clothing/under/costume/singer/yellow = 1,
	/obj/item/clothing/shoes/singerb = 1,
	/obj/item/clothing/under/costume/singer/blue = 1,
))

GLOBAL_LIST_INIT(autodrobe_fancy_items, list(
	/obj/item/clothing/head/beret = 1,
	/obj/item/clothing/under/rank/captain/suit = 1,
	/obj/item/clothing/under/rank/captain/suit/skirt = 1,
	/obj/item/clothing/under/suit/black = 1,
	/obj/item/clothing/suit/tailcoat = 1,
	/obj/item/clothing/head/that = 1,
	/obj/item/clothing/under/rank/civilian/victorian_redsleeves = 1,
	/obj/item/clothing/under/rank/civilian/victorian_redvest = 1,
	/obj/item/clothing/under/rank/civilian/victorian_vest = 1,
	/obj/item/clothing/under/rank/civilian/victorian_purple = 1,
	/obj/item/clothing/under/rank/civilian/victorianreddress = 1,
	/obj/item/clothing/under/rank/civilian/dutch = 2,
	/obj/item/clothing/under/suit/sl = 1,
	/obj/item/clothing/under/suit/white_on_white = 1,
	/obj/item/clothing/gloves/evening = 1,
	/obj/item/clothing/suit/whitedress = 1,
	/obj/item/clothing/suit/vickyred = 1,
	/obj/item/clothing/under/rank/civilian/victorianblackdress = 1,
	/obj/item/clothing/suit/vickyblack = 1,
	/obj/item/clothing/under/costume/schoolgirl = 3,
	/obj/item/clothing/under/costume/schoolgirl/red = 3,
	/obj/item/clothing/under/costume/schoolgirl/green = 3,
	/obj/item/clothing/under/costume/schoolgirl/orange = 3,
	/obj/item/clothing/under/dress/skirt = 3,
	/obj/item/clothing/under/custom/mikubikini = 3,
	/obj/item/clothing/under/custom/lunasune = 3,
	/obj/item/clothing/neck/tie = 3,
	/obj/item/clothing/neck/tie/bandagewraps = 5,
	/obj/item/clothing/under/costume/kilt = 3,
	/obj/item/clothing/glasses/monocle = 3,
	/obj/item/clothing/head/bowler = 1,
	/obj/item/clothing/head/sombrero = 1,
	/obj/item/clothing/head/sombrero/green = 1,
	/obj/item/clothing/suit/poncho = 1,
	/obj/item/clothing/suit/poncho/green = 1,
	/obj/item/clothing/suit/poncho/red = 1,
	/obj/item/cane = 3,
	/obj/item/clothing/under/dress/sundress = 3,
	/obj/item/clothing/mask/balaclava/breath/hijab = 4,
	/obj/item/clothing/head/turban = 4,
	/obj/item/clothing/suit/baroness = 3,
	/obj/item/clothing/suit/baroness/ladyballat = 3,
	/obj/item/clothing/under/suit/pencil = 3,
	/obj/item/clothing/under/suit/pencil/black_really = 3,
	/obj/item/clothing/under/suit/pencil/charcoal = 3,
	/obj/item/clothing/under/suit/pencil/navy = 3,
	/obj/item/clothing/under/suit/pencil/burgandy = 3,
	/obj/item/clothing/under/suit/pencil/checkered = 3,
	/obj/item/clothing/under/suit/pencil/tan = 3,
	/obj/item/clothing/under/suit/pencil/green = 3,
))

GLOBAL_LIST_INIT(autodrobe_animal_items, list(
	/obj/item/clothing/suit/chickensuit = 1,
	/obj/item/clothing/head/chicken = 1,
	/obj/item/clothing/head/kitty = 1,
	/obj/item/clothing/head/rabbitears = 1,
	/obj/item/clothing/suit/hooded/carp_costume = 1,
	/obj/item/clothing/suit/hooded/ian_costume = 1,
	/obj/item/clothing/suit/hooded/bee_costume = 1,
	/obj/item/clothing/mask/rat/bat = 1,
	/obj/item/clothing/mask/rat/bee = 1,
	/obj/item/clothing/mask/rat/bear = 1,
	/obj/item/clothing/mask/rat/raven = 1,
	/obj/item/clothing/mask/rat/jackal = 1,
	/obj/item/clothing/mask/rat/fox = 1,
	/obj/item/clothing/mask/frog = 1,
	/obj/item/clothing/mask/rat/tribal = 1,
	/obj/item/clothing/mask/rat = 1,
))

GLOBAL_LIST_INIT(autodrobe_service_items, list(
	/obj/item/clothing/accessory/waistcoat = 4,
	/obj/item/clothing/under/costume/maid = 1,
	/obj/item/clothing/suit/maid = 3,
	/obj/item/clothing/under/rank/civilian/janitor/maid = 1,
	/obj/item/clothing/head/maid = 1,
	/obj/item/storage/box/fancy_maid_kit = 3,
	/obj/item/clothing/suit/suspenders = 2,
	/obj/item/clothing/suit/suspenders/suspenders_white = 4,
	/obj/item/clothing/under/suit/waiter = 4,
	/obj/item/clothing/suit/apron = 3,
	/obj/item/clothing/suit/apron/overalls = 3,
))

GLOBAL_LIST_INIT(autodrobe_other_items, list(
	/obj/item/clothing/head/richard = 3,
	/obj/item/clothing/head/wig/random = 6,
	/obj/item/clothing/head/flatcap = 3,
	/obj/item/clothing/head/bandana = 1,
	/obj/item/clothing/ears/headphones = 2,
	/obj/item/clothing/suit/jacket/miljacket = 3,
	/obj/item/clothing/shoes/jackboots = 3,
	/obj/item/clothing/shoes/jackboots/toeless = 3,
	/obj/item/clothing/shoes/jackboots/tall = 3,
	/obj/item/clothing/shoes/jackboots/tall_default = 1,
	/obj/item/clothing/suit/sol_dress = 4,
	/obj/item/clothing/under/rank/security/officer/formal/sol/armorless = 4,
	/obj/item/clothing/suit/armor/nri_coat/armorless = 2,
	/obj/item/clothing/head/HoS/beret/sol/plain/armorless = 2,
	/obj/item/clothing/head/HoS/beret/sol/cap/armorless = 2,
	/obj/item/clothing/head/HoS/beret/nri/cap/armorless = 2,
	/obj/item/clothing/head/helmet/aviator_helmet/no_armor = 3,
	/obj/item/clothing/head/npc_questhuh_hat = 3,
	/obj/item/clothing/head/npc_questhey_hat = 3,
	/obj/item/clothing/mask/fakemoustache = 3,
	/obj/item/clothing/head/cueball = 1,
	/obj/item/clothing/glasses/cold = 3,
	/obj/item/clothing/glasses/heat = 3,
	/obj/item/clothing/mask/gas/cyborg = 3,
	/obj/item/clothing/mask/joy = 3,
	/obj/item/clothing/under/costume/loincloth/sensor = 1,
	/obj/item/clothing/under/costume/loincloth/cloth/sensor = 1,
	/obj/item/clothing/under/vaultsuit = 3,
	/obj/item/clothing/underwear/briefs/garland_panties = 5,
	/obj/item/clothing/underwear/shirt/garland_bra = 5,
	/obj/item/clothing/suit/garland_suit = 5,
	/obj/item/clothing/under/bm/gift_ribbon = 5,
))

GLOBAL_LIST_INIT(autodrobe_premium_items, list(
	/obj/item/clothing/suit/pirate/captain = 2,
	/obj/item/clothing/head/pirate/captain = 2,
	/obj/item/clothing/under/costume/drfreeze = 1,
	/obj/item/clothing/suit/drfreeze_coat = 1,
	/obj/item/clothing/head/drfreezehat = 1,
	/obj/item/clothing/suit/gothcoat = 2,
	/obj/item/clothing/under/rank/civilian/clown/rainbow = 1,
	/obj/item/skub = 1,
	/obj/item/clothing/mask/gas/syndicate/ds/wide = 1,
	/obj/item/clothing/mask/gas/syndicate/ds/mouth = 1,
	/obj/item/clothing/mask/gas/syndicate/ds/coif = 1,
	/obj/item/clothing/under/suit/tuxedo = 1,
	/obj/item/clothing/under/suit/carpskin = 1,
	/obj/item/clothing/head/helmet/roman/fake = 1,
	/obj/item/clothing/under/costume/roman = 1,
	/obj/item/clothing/shoes/roman = 1,
	/obj/item/shield/riot/roman/fake = 1,
	/obj/item/clothing/under/costume/lobster = 1,
	/obj/item/clothing/head/lobsterhat = 1,
	/obj/item/clothing/suit/dracula = 1,
	/obj/item/clothing/under/costume/draculass = 1,
	/obj/item/clothing/accessory/sweater/uglyxmas = 3,
	/obj/item/clothing/head/beanie/christmas = 3,
	/obj/item/clothing/neck/scarf/christmas = 3,
	/obj/item/clothing/under/costume/christmas = 3,
	/obj/item/clothing/under/costume/christmas/green = 3,
	/obj/item/clothing/under/costume/christmas/croptop = 3,
	/obj/item/clothing/under/costume/christmas/croptop/green = 3,
	/obj/item/clothing/suit/hooded/wintercoat/christmascoatr = 3,
	/obj/item/clothing/suit/hooded/wintercoat/christmascoatg = 3,
	/obj/item/clothing/suit/hooded/wintercoat/christmascoatrg = 3,
	/obj/item/clothing/head/christmashat = 3,
	/obj/item/clothing/head/christmashatg = 3,
	/obj/item/clothing/shoes/winterboots/christmasbootsr = 3,
	/obj/item/clothing/shoes/winterboots/christmasbootsg = 3,
	/obj/item/clothing/shoes/winterboots/santaboots = 3,
	/obj/item/clothing/underwear/socks/thigh/christmas = 3,
	/obj/item/clothing/underwear/socks/christmas = 3,
	/obj/item/clothing/underwear/socks/knee/christmas = 3,
))

GLOBAL_LIST_INIT(autodrobe_contraband_items, list(
	/obj/item/clothing/suit/judgerobe = 1,
	/obj/item/clothing/head/powdered_wig = 1,
	/obj/item/gun/magic/wand = 2,
	/obj/item/clothing/glasses/sunglasses/garb = 2,
	/obj/item/clothing/glasses/sunglasses/gar = 2,
	/obj/item/clothing/mask/muzzle = 2,
	/obj/item/clothing/under/syndicate/camo/cosmetic = 3,
))

GLOBAL_VAR_INIT(all_autodrobe_items, (autodrobe_costumes_items +\
	autodrobe_costumes_items +\
	autodrobe_supernatural_items +\
	autodrobe_entretainers_items +\
	autodrobe_fancy_items +\
	autodrobe_animal_items +\
	autodrobe_service_items +\
	autodrobe_other_items +\
	autodrobe_premium_items +\
	autodrobe_contraband_items \
))

/obj/machinery/vending/autodrobe
	name = "\improper AutoDrobe"
	desc = "A vending machine for costumes."
	icon_state = "theater"
	icon_deny = "theater-deny"
	req_access = list(ACCESS_THEATRE)
	//panel_type = "panel16"
	product_slogans = "Одевайтесь для успеха!;Костюм и ботинки!;Время шоу!;Зачем оставлять стиль на волю судьбы? Воспользуйтесь программой AutoDrobe!"
	vend_reply = "Thank you for using AutoDrobe!"

	/**
	 * Categories are filled in Initialize!
	 */

	refill_canister = /obj/item/vending_refill/autodrobe
	default_price = PRICE_ALMOST_CHEAP
	extra_price = PRICE_ALMOST_EXPENSIVE
	payment_department = ACCOUNT_SRV
	light_mask = "theater-light-mask"

/obj/machinery/vending/autodrobe/Initialize(mapload)
	product_categories = list(
		list(
			"name" = "Costumes",
			"icon" = "mask",
			"products" = GLOB.autodrobe_costumes_items
		),
		list(
			"name" = "Supernatural",
			"icon" = "hand-sparkles",
			"products" = GLOB.autodrobe_supernatural_items
		),
		list(
			"name" = "Entertainers",
			"icon" = "masks-theater",
			"products" = GLOB.autodrobe_entretainers_items
		),
		list(
			"name" = "Fancy",
			"icon" = "user-tie",
			"products" = GLOB.autodrobe_fancy_items
		),
		list(
			"name" = "Animals",
			"icon" = "paw",
			"products" = GLOB.autodrobe_animal_items
		),
		list(
			"name" = "Service",
			"icon" = "kitchen-set",
			"products" = GLOB.autodrobe_service_items
		),
		list(
			"name" = "Other",
			"icon" = "star",
			"products" = GLOB.autodrobe_other_items
		),
	)
	premium = GLOB.autodrobe_premium_items
	contraband = GLOB.autodrobe_contraband_items

	. = ..()
	cost_multiplier_per_dept = list("[ACCESS_THEATRE]" = 0)

/obj/machinery/vending/autodrobe/canLoadItem(obj/item/I,mob/user)
	return (I.type in products)

/obj/machinery/vending/autodrobe/all_access
	desc = "A vending machine for costumes. This model appears to have no access restrictions."
	req_access = null

/obj/item/vending_refill/autodrobe
	machine_name = "AutoDrobe"
	icon_state = "refill_costume"
