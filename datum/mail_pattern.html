<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/mail_pattern - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/mail_pattern.html#var">Var Details</a> - <a href="datum/mail_pattern.html#proc">Proc Details</a></header><main><h1>mail_pattern <aside>/<a href="datum.html">datum</a>/<a href="datum/mail_pattern.html">mail_pattern</a></aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L1"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/mail_pattern.html#var/bad_feeling">bad_feeling</a></th><td>If this property is not null, mail shows to opener this message with choices: to open or not to open</td></tr><tr><th><a href="datum/mail_pattern.html#var/blacklisted_jobs">blacklisted_jobs</a></th><td>List of blacklisted jobs. Pattern will not be available if owner assigned role is one of them</td></tr><tr><th><a href="datum/mail_pattern.html#var/blacklisted_quirks">blacklisted_quirks</a></th><td>List of blacklisted quirk types. Pattern will not be available if owner has one of them</td></tr><tr><th><a href="datum/mail_pattern.html#var/blacklisted_roundtypes">blacklisted_roundtypes</a></th><td>List of blacklisted roundtypes (Extended, Dynamic Hard, etc). Pattern will not be available during them</td></tr><tr><th><a href="datum/mail_pattern.html#var/blacklisted_species">blacklisted_species</a></th><td>List of blacklisted species types. Pattern will not be available if owner has one of them</td></tr><tr><th><a href="datum/mail_pattern.html#var/category">category</a></th><td>Category of letter</td></tr><tr><th><a href="datum/mail_pattern.html#var/envelope_type">envelope_type</a></th><td>Envelope / Package</td></tr><tr><th><a href="datum/mail_pattern.html#var/initial_contents">initial_contents</a></th><td>Created items during pattern applying. If items should be customised, override apply() proc</td></tr><tr><th><a href="datum/mail_pattern.html#var/letter_desc">letter_desc</a></th><td>Description for text letter in envelope</td></tr><tr><th><a href="datum/mail_pattern.html#var/letter_html">letter_html</a></th><td>HTML for text letter in envelope</td></tr><tr><th><a href="datum/mail_pattern.html#var/letter_icon">letter_icon</a></th><td>Icon file for text letter in envelope</td></tr><tr><th><a href="datum/mail_pattern.html#var/letter_icon_state">letter_icon_state</a></th><td>Icon state for text letter in envelope</td></tr><tr><th><a href="datum/mail_pattern.html#var/letter_title">letter_title</a></th><td>Name for text letter in envelope</td></tr><tr><th><a href="datum/mail_pattern.html#var/mindshield_prohibited">mindshield_prohibited</a></th><td>Will the mindshield implant in the recipient disable this pattern?</td></tr><tr><th><a href="datum/mail_pattern.html#var/mindshield_required">mindshield_required</a></th><td>Is the mindshield implant required to get this pattern?</td></tr><tr><th><a href="datum/mail_pattern.html#var/parent">parent</a></th><td>Envelope, to which this pattern assigned</td></tr><tr><th><a href="datum/mail_pattern.html#var/weight">weight</a></th><td>Weight (chance) of getting this lettertype</td></tr><tr><th><a href="datum/mail_pattern.html#var/whitelisted_jobs">whitelisted_jobs</a></th><td>List of whitelisted jobs. Pattern will be available only if owner assigned role is one of them</td></tr><tr><th><a href="datum/mail_pattern.html#var/whitelisted_quirks">whitelisted_quirks</a></th><td>List of whitelisted quirk types. Pattern will be available only if owner has one of them</td></tr><tr><th><a href="datum/mail_pattern.html#var/whitelisted_roundtypes">whitelisted_roundtypes</a></th><td>List of whitelisted roundtypes. (Extended, Dynamic Hard, etc). Pattern will be available only during them</td></tr><tr><th><a href="datum/mail_pattern.html#var/whitelisted_species">whitelisted_species</a></th><td>List of whitelisted species types. Pattern will be available only if owner has one of them</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/mail_pattern.html#proc/apply">apply</a></th><td>Proc, that applies settings of this pattern to piece of mail, for example customising text, creating letter and contents</td></tr><tr><th><a href="datum/mail_pattern.html#proc/on_mail_open">on_mail_open</a></th><td>Special effects of pattern, when envelope is opened</td></tr><tr><th><a href="datum/mail_pattern.html#proc/regenerate_weight">regenerate_weight</a></th><td>Returns weight of selected pattern in accordance to all filters and checks, applied to specific recipient</td></tr><tr><th><a href="datum/mail_pattern.html#proc/special_open_check">special_open_check</a></th><td>Special check of pattern, that called by mail/try_open() proc. If returns FALSE, piece of mail will not be open.</td></tr><tr><th><a href="datum/mail_pattern.html#proc/text_customisation">text_customisation</a></th><td>Customising text piece for specific recipient</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/bad_feeling"><aside class="declaration">var </aside>bad_feeling <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L35"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 35"></a></h3><p>If this property is not null, mail shows to opener this message with choices: to open or not to open</p><h3 id="var/blacklisted_jobs"><aside class="declaration">var </aside>blacklisted_jobs <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L67"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 67"></a></h3><p>List of blacklisted jobs. Pattern will not be available if owner assigned role is one of them</p><h3 id="var/blacklisted_quirks"><aside class="declaration">var </aside>blacklisted_quirks <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L53"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 53"></a></h3><p>List of blacklisted quirk types. Pattern will not be available if owner has one of them</p><h3 id="var/blacklisted_roundtypes"><aside class="declaration">var </aside>blacklisted_roundtypes <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L46"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 46"></a></h3><p>List of blacklisted roundtypes (Extended, Dynamic Hard, etc). Pattern will not be available during them</p><h3 id="var/blacklisted_species"><aside class="declaration">var </aside>blacklisted_species <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L60"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 60"></a></h3><p>List of blacklisted species types. Pattern will not be available if owner has one of them</p><h3 id="var/category"><aside class="declaration">var </aside>category <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L14"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 14"></a></h3><p>Category of letter</p><h3 id="var/envelope_type"><aside class="declaration">var </aside>envelope_type <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L8"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 8"></a></h3><p>Envelope / Package</p><h3 id="var/initial_contents"><aside class="declaration">var </aside>initial_contents <aside>– /list/obj/item</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L32"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 32"></a></h3><p>Created items during pattern applying. If items should be customised, override apply() proc</p><h3 id="var/letter_desc"><aside class="declaration">var </aside>letter_desc <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L23"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 23"></a></h3><p>Description for text letter in envelope</p><h3 id="var/letter_html"><aside class="declaration">var </aside>letter_html <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L21"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 21"></a></h3><p>HTML for text letter in envelope</p><h3 id="var/letter_icon"><aside class="declaration">var </aside>letter_icon <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L25"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 25"></a></h3><p>Icon file for text letter in envelope</p><h3 id="var/letter_icon_state"><aside class="declaration">var </aside>letter_icon_state <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L27"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 27"></a></h3><p>Icon state for text letter in envelope</p><h3 id="var/letter_title"><aside class="declaration">var </aside>letter_title <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L19"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 19"></a></h3><p>Name for text letter in envelope</p><h3 id="var/mindshield_prohibited"><aside class="declaration">var </aside>mindshield_prohibited <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L72"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 72"></a></h3><p>Will the mindshield implant in the recipient disable this pattern?</p><h3 id="var/mindshield_required"><aside class="declaration">var </aside>mindshield_required <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L74"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 74"></a></h3><p>Is the mindshield implant required to get this pattern?</p><h3 id="var/parent"><aside class="declaration">var </aside>parent <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/mail.html">mail</a></aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L11"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 11"></a></h3><p>Envelope, to which this pattern assigned</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <aside>– </aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L16"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 16"></a></h3><p>Weight (chance) of getting this lettertype</p><h3 id="var/whitelisted_jobs"><aside class="declaration">var </aside>whitelisted_jobs <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L65"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 65"></a></h3><p>List of whitelisted jobs. Pattern will be available only if owner assigned role is one of them</p><h3 id="var/whitelisted_quirks"><aside class="declaration">var </aside>whitelisted_quirks <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L51"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 51"></a></h3><p>List of whitelisted quirk types. Pattern will be available only if owner has one of them</p><h3 id="var/whitelisted_roundtypes"><aside class="declaration">var </aside>whitelisted_roundtypes <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L44"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 44"></a></h3><p>List of whitelisted roundtypes. (Extended, Dynamic Hard, etc). Pattern will be available only during them</p><h3 id="var/whitelisted_species"><aside class="declaration">var </aside>whitelisted_species <aside>– /list</aside> <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L58"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 58"></a></h3><p>List of whitelisted species types. Pattern will be available only if owner has one of them</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply"><aside class="declaration">proc </aside>apply<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/recipient)  <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L114"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 114"></a></aside></h3><p>Proc, that applies settings of this pattern to piece of mail, for example customising text, creating letter and contents</p><h3 id="proc/on_mail_open"><aside class="declaration">proc </aside>on_mail_open<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/recipient)  <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L220"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 220"></a></aside></h3><p>Special effects of pattern, when envelope is opened</p><h3 id="proc/regenerate_weight"><aside class="declaration">proc </aside>regenerate_weight<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/recipient)  <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L164"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 164"></a></aside></h3><p>Returns weight of selected pattern in accordance to all filters and checks, applied to specific recipient</p><h3 id="proc/special_open_check"><aside class="declaration">proc </aside>special_open_check<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/recipient)  <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L156"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 156"></a></aside></h3><p>Special check of pattern, that called by mail/try_open() proc. If returns FALSE, piece of mail will not be open.</p><h3 id="proc/text_customisation"><aside class="declaration">proc </aside>text_customisation<aside>(text, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/recipient)  <a href="https://github.com/nopeingeneer/another_useless_fork/blob/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd/modular_bluemoon/code/modules/mail/mail_pattern_base.dm#L82"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/modules/mail/mail_pattern_base.dm 82"></a></aside></h3><p>Customising text piece for specific recipient</p></main><footer>tgstation.dme <a href="https://github.com/nopeingeneer/another_useless_fork/tree/50ccb8a5dfc794d8855892f8ac6f5bb8580ed0bd">50ccb8a</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>